<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.devMode" value="true" />
	<!-- <constant name="struts.objectFactory" value="spring"/> -->
	<constant name="struts.ui.theme" value="simple" />
	<constant name="struts.custom.i18n.resources" value="languages.cms_label, languages.cms_msg" />
	<constant name="struts.multipart.maxSize" value="102400000" />
	<!-- <constant name="struts.xwork.chaining.copyErrors" value="true"/> -->
	<!-- <constant name="struts.xwork.chaining.copyFieldErrors" value="true"/> -->
	<!-- <constant name="struts.xwork.chaining.copyMessages" value="true"/> -->

	<package name="basic" extends="struts-default" abstract="true">
	
		<interceptors>
			<interceptor name="actionInterceptor" class="com.iidooo.core.interceptor.ActionInterceptor"></interceptor>
			<interceptor name="authInterceptor" class="com.iidooo.passport.interceptor.AuthInterceptor"></interceptor>
			<interceptor name="menuInterceptor" class="com.iidooo.passport.interceptor.MenuInterceptor"></interceptor>
			
			<interceptor-stack name="defaultStackWrap">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="actionInterceptor" />
				<interceptor-ref name="authInterceptor" />
				<interceptor-ref name="menuInterceptor" />
			</interceptor-stack>
		</interceptors>
		
		<default-interceptor-ref name="defaultStackWrap" />
		<global-results>
			<result name="error">/WEB-INF/jsp/Error.jsp</result>
			<result name="login">/WEB-INF/jsp/Login.jsp</result>
		</global-results>

		<global-exception-mappings>
			<exception-mapping result="error" exception="java.lang.Exception"></exception-mapping>
		</global-exception-mappings>
	</package>

	<include file="struts/struts-core.xml"></include>
	<include file="struts/struts-core-api.xml"></include>
	<include file="struts/struts-passport.xml"></include>
	<include file="struts/struts-passport-api.xml"></include>
	<include file="struts/struts-cms.xml"></include>
	<include file="struts/struts-cms-api.xml"></include>
	
</struts>