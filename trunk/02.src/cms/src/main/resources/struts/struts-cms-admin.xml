<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="admin" namespace="/admin" extends="basic">

		<interceptors>
			<interceptor name="authInterceptor" class="com.iidooo.framework.interceptor.AuthInterceptor"></interceptor>
			<interceptor name="actionInterceptor" class="com.iidooo.framework.interceptor.ActionInterceptor"></interceptor>
			<interceptor-stack name="adminStackWrap">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="authInterceptor" />
				<interceptor-ref name="actionInterceptor" />
			</interceptor-stack>
		</interceptors>

		<action name="loginInit" class="com.iidooo.framework.action.LoginAction" method="init">
			<result name="success">/WEB-INF/jsp/Login.jsp</result>
		</action>
		<action name="login" class="com.iidooo.framework.action.LoginAction" method="login">
			<result name="success" type="redirect">index.action</result>
			<result name="input">/WEB-INF/jsp/Login.jsp</result>
		</action>
		<action name="logout" class="com.iidooo.framework.action.LoginAction" method="logout">
			<result name="success">/WEB-INF/jsp/Login.jsp</result>
		</action>
		
		<action name="index" class="com.iidooo.cms.admin.action.IndexAction" method="init">
			<result name="success">/WEB-INF/jsp/Index.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>

		<action name="channelList" class="com.iidooo.cms.admin.action.ChannelListAction" method="init">
			<result name="success">/WEB-INF/jsp/channel/ChannelList.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="channelListDelete" class="com.iidooo.cms.admin.action.ChannelListAction" method="delete">
			<result name="success" type="redirect">channelList.action?parentChannelID=${parentChannelID}</result>
			<result name="input">/WEB-INF/jsp/channel/ChannelList.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>

		<action name="channelDetail" class="com.iidooo.cms.admin.action.ChannelDetailAction" method="init">
			<result name="success">/WEB-INF/jsp/channel/ChannelDetail.jsp</result>
			<result name="input">/WEB-INF/jsp/channel/ChannelDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="channelCreate" class="com.iidooo.cms.admin.action.ChannelDetailAction" method="create">
			<result name="success" type="redirect">channelList.action?parentChannelID=${channel.parentID}</result>
			<result name="input">/WEB-INF/jsp/channel/ChannelDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="channelUpdate" class="com.iidooo.cms.admin.action.ChannelDetailAction" method="update">
			<result name="success" type="redirect">channelList.action?parentChannelID=${channel.parentID}</result>
			<result name="input">/WEB-INF/jsp/channel/ChannelDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="channelDelete" class="com.iidooo.cms.admin.action.ChannelDetailAction" method="delete">
			<result name="success" type="redirect">channelList.action?parentChannelID=${channel.parentID}</result>
			<result name="input">/WEB-INF/jsp/channel/ChannelDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>

		<action name="contentList" class="com.iidooo.cms.admin.action.ContentListAction" method="init">
			<result name="success">/WEB-INF/jsp/content/ContentList.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="contentListDelete" class="com.iidooo.cms.admin.action.ContentListAction" method="delete">
			<result name="success" type="redirect">contentList.action?channelID=${channelID}</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="contentDetail" class="com.iidooo.cms.admin.action.ContentDetailAction" method="init">
			<result name="success">/WEB-INF/jsp/content/ContentDetail.jsp</result>
			<result name="input">/WEB-INF/jsp/content/ContentDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>		
		<action name="contentCreate" class="com.iidooo.cms.admin.action.ContentDetailAction" method="create">
			<result name="success" type="redirect">contentList.action?channelID=${content.channelID}</result>
			<result name="input">/WEB-INF/jsp/content/ContentDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="contentUpdate" class="com.iidooo.cms.admin.action.ContentDetailAction" method="update">
			<result name="success" type="redirect">contentList.action?channelID=${content.channelID}</result>
			<result name="input">/WEB-INF/jsp/content/ContentDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="contentDelete" class="com.iidooo.cms.admin.action.ContentDetailAction" method="delete">
			<result name="success" type="redirect">contentList.action?channelID=${content.channelID}</result>
			<result name="input">/WEB-INF/jsp/content/ContentDetail.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>		
		
		
		<action name="userList" class="com.iidooo.cms.admin.action.UserListAction" method="init">
			<result name="success">/WEB-INF/jsp/user/UserList.jsp</result>
			<result name="input">/WEB-INF/jsp/user/UserList.jsp</result>
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>		
		
		<!-- The ajax action did not need the result, the result will output as json -->
		<action name="fileUpload" class="com.iidooo.framework.action.FileUploadAction" method="upload">
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
		<action name="kindEditorFileManager" class="com.iidooo.framework.action.KindEditorFileManagerAction" method="manage">
			<interceptor-ref name="adminStackWrap"></interceptor-ref>
		</action>
	</package>
</struts>