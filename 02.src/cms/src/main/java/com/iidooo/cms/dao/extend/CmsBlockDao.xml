<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.iidooo.cms.dao.extend.CmsBlockDao" >
  <resultMap id="BaseResultMap" type="com.iidooo.cms.dto.extend.CmsBlockDto" >
    <id column="BlockID" property="blockID" jdbcType="INTEGER" />
    <result column="BlockTitle" property="blockTitle" jdbcType="VARCHAR" />
    <result column="BlockSubTitle" property="blockSubTitle" jdbcType="VARCHAR" />
    <result column="BlockImageTitle" property="blockImageTitle" jdbcType="VARCHAR" />
    <result column="BlockName" property="blockName" jdbcType="VARCHAR" />
    <result column="Remarks" property="remarks" jdbcType="VARCHAR" />
    <result column="Language" property="language" jdbcType="VARCHAR" />
    <result column="CreateTime" property="createTime" jdbcType="VARCHAR" />
    <result column="CreateUser" property="createUser" jdbcType="INTEGER" />
    <result column="UpdateTime" property="updateTime" jdbcType="VARCHAR" />
    <result column="UpdateUser" property="updateUser" jdbcType="INTEGER" />
    <result column="DeleteFlag" property="deleteFlag" jdbcType="INTEGER" />
    <result column="Version" property="version" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    B.BlockID, B.BlockTitle, B.BlockSubTitle, B.BlockImageTitle, B.BlockName, B.Remarks, 
    B.Language, B.CreateTime, B.CreateUser, B.UpdateTime, B.UpdateUser, B.DeleteFlag, B.Version
  </sql>
  <select id="selectByPageID" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />, PB.PageID
    from IDO_CMS_PAGE_BLOCK as PB
    join IDO_CMS_BLOCK as B
    on PB.BlockID = B.BlockID and PB.DeleteFlag = 0 and B.DeleteFlag = 0 and 
    PB.PageID = #{pageID,jdbcType=INTEGER}
  </select>
</mapper>